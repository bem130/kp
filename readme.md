# AtCoder Rust プロジェクト管理プログラム

## 概要

本プログラムは、AtCoderコンテストのプロジェクト管理を効率化するためのコマンドラインツールです。Rustのテンプレートを用いて新規プロジェクトの作成や、各問題のビルド、テスト、提出を一元管理できます。

## 特徴

- **新規プロジェクト作成**  
  指定したコンテスト番号に基づき、「abc<コンテスト番号>」という形式のプロジェクトを自動生成します。

- **ビルドとテスト**  
  各サブディレクトリにおいて`cargo build`を実行し、さらに`oj test`によるテストを自動で行います。

- **提出ワークフロー**  
  テストがすべて成功した場合、AtCoder CLIを利用して解答の提出を実行します。

- **実行ディレクトリの指定**  
  オプション`--root_dir`（または`-r`）により、コマンド実行の基本ディレクトリを任意に指定できます。

## 必要環境

- **Rust & Cargo**  
  プロジェクトのビルドに必要です。

- **Node.js & npx**  
  AtCoder CLIを利用するために必要です。

- **PowerShell**  
  コマンド実行に使用します。

- **オンラインジャッジツール (`oj`)**  
  テストの実行に使用されます。

## インストール方法

1. **リポジトリのクローンまたはダウンロード**  
   プロジェクトのソースコードをローカル環境に取得してください。

2. **プロジェクトのビルド**  
   ターミナルでプロジェクトディレクトリに移動し、以下のコマンドを実行します。
   ```bash
   cargo build --release
   ```

3. **依存関係の確認**  
   Node.js、npx、およびオンラインジャッジツール(`oj`)がシステムにインストールされ、パスが通っていることを確認してください。

## 使い方

### 新規プロジェクトの作成

以下のコマンドを実行すると、新規プロジェクトが生成されます。  
例:  
```bash
kp.exe 300 new
```
このコマンドにより、コンテスト番号300のプロジェクト「abc300」が作成され、各サブディレクトリで`cargo build`が実行されます。

### 問題のテスト

以下のコマンドで、指定した問題のビルドとテストが実行されます。  
例:  
```bash
kp.exe 300 a test
```
このコマンドは、プロジェクト「abc300」内の問題Aディレクトリで`cargo build`と`oj test`を順次実行します。

### 問題の提出

テストが成功した場合、以下のコマンドで解答の提出を行います。  
例:  
```bash
kp.exe 300 a submit
```
このコマンドは、問題Aディレクトリ内でビルドおよびテストを実施し、すべてのテストが成功した場合にAtCoder CLIを利用して解答を提出します。

### オプション: 実行ディレクトリの指定

オプション`--root_dir`または`-r`を使用することで、コマンド実行の基本ディレクトリを任意に指定できます。

## コマンド実行の詳細

- **PowerShellの利用**  
  コマンドはPowerShellを介して実行され、`cargo build`、`oj test`、およびAtCoder CLIの各コマンドが動作します。

- **プロジェクトディレクトリの構成**  
  プロジェクトディレクトリは「abc<コンテスト番号>」の形式で生成され、各問題はその中の個別サブディレクトリ（例：`a`、`b`など）に配置されます。

- **エラーハンドリング**  
  各コマンドが失敗した場合、エラーメッセージを出力し、非ゼロの終了ステータスでプログラムが終了します。

## 使用例

- **新規コンテストプロジェクトの作成例**
  ```bash
  kp.exe 300 new
  ```
  このコマンドにより、コンテスト番号300のプロジェクト「abc300」が生成され、各サブディレクトリで自動的に`cargo build`が実行されます。

- **問題Aのテスト実行例**
  ```bash
  kp.exe 300 a test
  ```
  プロジェクト「abc300」内の問題Aディレクトリでビルドとテストが実行されます。

- **問題Aの提出実行例**
  ```bash
  kp.exe 300 a submit
  ```
  問題Aディレクトリでビルドとテストが実行され、すべてのテストが成功した場合に解答が提出されます。